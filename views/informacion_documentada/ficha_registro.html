{{extend 'layout.html'}}
<h1>Está es la plantilla informacion_documentada/ficha_registro.html</h1>
{{=BEAUTIFY(response._vars)}}


{{block head}}

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" type="text/css" href="{{=URL('static', 'css/servicios_modal.css')}}">
  <link rel="stylesheet" href="{{=URL('static', 'css/servicios_listado.css')}}">
  <link rel="stylesheet" href="{{=URL('static', 'css/servicios_template_modal.css')}}">
  <script src="{{=URL('static', 'js/servicios_template_modal.js')}}"></script>
  <link rel="stylesheet" type="text/css" href="{{=URL('static', 'css/servicios_modal.css')}}">
  <link rel="stylesheet" href="{{=URL('static', 'css/bootstrap-datepicker3.css')}}">
  <script src="{{=URL('static', 'js/bootstrap-datepicker.min.js')}}"></script>


  <!-- DataTables -->
  <link href="{{=URL('static', 'plugins/datatables/jquery.dataTables.min.css')}}" rel="stylesheet" type="text/css" />
  <link href="{{=URL('static', 'plugins/datatables/buttons.bootstrap.min.css')}}" rel="stylesheet" type="text/css" />
  <link href="{{=URL('static', 'plugins/datatables/responsive.bootstrap.min.css')}}" rel="stylesheet" type="text/css" />

  <style>

    h4{
      margin-top: 15px;
    }

    .row{
      margin-right:0px!important;
    }

    .wrapper {
      max-width: 1100px;
      margin: auto;
      margin-top: 80px;
    }

    .tab-wrapper {
      text-align: center;
      display: block;
      margin: auto;
      max-width: 400px;
    }

    .tabs {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
    }

    .tab-link {
      margin: 0 1%;
      list-style: none;
      padding: 10px 20px;
      color: #aaa;
      cursor: pointer;
      font-weight: 700;
      transition: all ease 0.5s;
      border-bottom: solid 3px rgba(255, 255, 255, 0);
      letter-spacing: 1px;
      font-size: 20px;
    }

    .tab-link:hover {
      color: #999;
      border-color: #999;
    }

    .tab-link.active {
      color: #333;
      border-color: #333;
    }

    .tab-link:nth-of-type(1).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(2).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(4).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(5).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(6).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(7).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(3).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .content-wrapper {
      padding: 20px 80px;
    }

    .tab-content {
      display: none;
      text-align: left;
      color:  #464646;
      font-weight: 200;
      font-size: 20px;
      opacity: 0;
      transform: translateY(15px);
      animation: fadeIn 0.5s ease 1 forwards;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      100% {
        opacity: 1;
        transform: none;
      }
    }

    .grid-container {
      display: grid;
      width: 100%;
      margin: 0 auto;
      grid-template-columns: 35% 65%;
      justify-content: center;
    }

    .grid-item {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #adadad;  
       
    }


  </style>    


{{end}}


{{block center}}
<nav class="navbar navbar-inverse navbar-fixed-top breadcrumbs">
  <div class="breadcrumb">
  <a class="breadcrumb-item" href="{{=URL('..', 'sigulab2')}}">Inicio</a>
  <a class="breadcrumb-item" href="{{=URL('..', 'sigulab2','informacion_documentada','')}}">Información Documentada</a>
  <a class="breadcrumb-item" href="{{=URL('informacion_documentada', 'lista_registros')}}">Control de Registros</a>
  <span class="breadcrumb-item active">Ficha de Registro</span>
  </div>
</nav>



    <div class="row" style="margin-bottom: 50px;">
      <div class="col-md-1">
      </div>
      <div class="col-md-1">
        <a  href="{{=URL('informacion_documentada', 'lista_registros')}}"><i class="fa fa-arrow-left fa-2x" style="background-color: #337ab7; color: white; border-radius: 50%; padding: 10px;"></i></h2></a>
      </div>
      <div class="col-md-7">
        <h3 style="text-align: center; margin-left: 15%"> FICHA DE REGISTRO </h3>
      </div>
      <div class="col-md-2" style="text-align: right;">
        <form method="POST">

          <button type="button" id="botonModal" data-toggle="modal" data-target="#adddoc"  class="btn btn-primary btn-lg" style="border-radius: 50%; text-align: center; background-color: #337ab7; margin-right: 20px; display: inline-block;"><i class="fa fa-pencil fa-2x" aria-hidden="true"></i></button>
 
          <button type="button" class="btn btn-danger btn-lg" data-toggle="modal" data-target="#modalEliminar" value="eliminar" style="border-radius: 50%; text-align: center; background-color: red; margin-right: 20px; display: inline-block;"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i></button>
        
        </form>
      </div>  
          
      <div class="col-md-1"></div>
    </div>  

    
{{for reg in registros:}}

  <div class="wrapper">
      
    <div class="tab-wrapper">
      <ul class="tabs">
        <li class="tab-link active" data-tab="1">Inf. General</li>
        <li class="tab-link" data-tab="2">Ubicación</li>    
      </ul>
    </div>

    <div class="content-wrapper">
      <div id="tab-1" class="tab-content active">
        <div class="grid-container">
          <div class="grid-item">
            Código del Registro
          </div>
          <div class="grid-item" id="ans">
              {{=reg.codigo}}
          </div>
          <div class="grid-item">
            Fecha de Creación
          </div>
          <div class="grid-item" id="ans">
              {{=reg.fecha_creacion}}
          </div>
          <div class="grid-item">
            Descripción
          </div>
          <div class="grid-item" id="ans">
              {{=reg.descripcion}}
          </div>
          <div class="grid-item">
            Destinatario
          </div>
          <div class="grid-item" id="ans">
              {{=reg.destinatario}}
          </div>
          <div class="grid-item">
            Remitente
          </div>
          <div class="grid-item" id="ans">
              {{=reg.remitente}}
          </div>

          

        </div>
      </div>

      <div id="tab-2" class="tab-content">
        <div class="grid-container">
          <div class="grid-item">
            Archivo electrónico
          </div>
          <div class="grid-item" id="ans">
              {{=reg.doc_electronico}}
          </div>
          <div class="grid-item">
            Ubicación del archivo electrónico
          </div>
          <div class="grid-item" id="ans">
              {{=reg.ubicacion_doc_electronico}}
          </div>
          <div class="grid-item">
            Ubicación del registro en formato físico
          </div>
          <div class="grid-item" id="ans">
              {{=reg.archivo_fisico}}
          </div>


        </div>
      </div>


    
  </div>



  <div class="modal fade" id="adddoc" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header addHeader">
          <div class="row addRow" id="rowHeader">
            <div class="col-sm-1" id="col1Header">
              <div class="container" id="plus">
                <h1 id="agregar">+</h1>
              </div>
            </div>
            <div class="col-sm-10" id="col11Header">
              <h4 class="modal-title" id="nuevoServicio">Nuevo Registro
                <button type="button" class="close" data-dismiss="modal">&times;</button>
              </h4>
            </div>
          </div>
        </div>
        <!-- Fin Modal Header -->
        
        <!-- Modal Body -->
        <div class="modal-body addBody">
          <div class="row addRow">
            <div class="col-md-12 form-box">
                <form id="formularioEdit" class="registration-form" id="edit" method="post">

                    <!-- Primer Paso -->
                    <fieldset class="formField">
                      <div class="form-bottom" data-step="1" data-title="Primer Paso">
                        <!-- Aqui va la barra lateral -->
                            <div class="col-sm-1 col1Body">
                              <span class="step activePass">1</span>
                            </div>
                          <!-- Aqui va la informacion -->
                        <div class="col-sm-11 col11Body">


                          <div class="input-group focus">
                              <h4 class="">Fecha de Creación</h4>
                              <input class="datepicker" type="text" data-placement="bottom" data-trigger="manual" data-content="Seleccione una fecha" name="fecha_creacion" id="fecha_creacion" value="{{=reg.fecha_creacion}}" required/> 
                          </div>

                          <div class="input-group">
                              <h4 class="">Descripción</h4>
                              <input type="text" name="descripcion" id="descripcion" placeholder="Descripción" value="{{=reg.descripcion}}" required/>
                          </div>

                          <div class="input-group">
                              <h4 class="">Destinatario</h4>
                              <input type="text" name="destinatario" id="destinatario" placeholder="Destinatario" value="{{=reg.destinatario}}" required/>
                          </div>
                          
                          <div class="input-group">
                              <h4 class="">Remitente</h4>
                              <select name="remitente" id="remitente" class="input" value="{{=reg.remitente}}" required>
                                
                                {{for dep in dependencias:}}
                                  <option value="{{=dep.codigo_registro}}" id="{{=dep.nombre}}">{{=dep.nombre}}</option>
                                {{pass}}
                              </select>
                          </div>

                          <div class="input-group">
                              <h4 class="">Archivo electrónico</h4>
                              <input type="text" name="doc_electronico" id="doc_electronico" placeholder="Documento electrónico" value="{{=reg.doc_electronico}}" required/>
                          </div>

                          <div class="input-group">
                              <h4 class="">Ubicación del archivo electrónico</h4>
                              <input type="text" name="ubicacion_doc_electronico" id="ubicacion_doc_electronico" value="{{=reg.ubicacion_doc_electronico}}" placeholder="Ubicación del registro electrónico" required/>
                              <h6 style="color: gray;">Indique el nombre del archivo electrónico, carpeta o ruta para acceder al el mismo</h6>
                          </div>
                          
                          <div class="input-group">
                              <h4 class="">Ubicación del registro en formato físico</h4>
                              <input type="text" name="archivo_fisico" id="archivo_fisico" placeholder="Archivo físico" value="{{=reg.archivo_fisico}}" required/>
                              <h6 style="color: gray;">Indique la carpeta, archivo, estante u otro se puede acceder al documento</h6>
                          </div>


                          <div style="position: fixed; bottom: 0; right: 0;">
 
                            <button type="submit" form="formularioEdit" id="submit" class="btn btn-submit botonForm" onsubmit="location.reload();" onclick="location.reload();" ><i class="fa fa-floppy-o"></i></button>
                          </div>

            
                            
                          </fieldset>
                    <!-- Fin Primer Paso -->
                    
                    

                </form>
            </div>
          </div>               


        </div>
      </div>

    </div>
  </div>



{{pass}}


<form method="POST">
  <div class="modal fade" id="modalEliminar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header text-center">
          <i class="fa fa-exclamation-triangle fa-4x" style="color: orange;" aria-hidden="true"></i>
          <h4 class="modal-title" id="exampleModalLabel">Eliminar Documento</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body text-center">
          ¿Está seguro que desea eliminar este registro?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
          <button type="submit" name="eliminar" value="eliminar" class="btn btn-danger">Si</button>
        </div>
      </div>
    </div>
  </div>
</form>



















<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
<script type="text/javascript">
  $('.tab-link').click( function() {
      
      var tabID = $(this).attr('data-tab');
      
      $(this).addClass('active').siblings().removeClass('active');
      
      $('#tab-'+tabID).addClass('active').siblings().removeClass('active');
  });
    

</script>


{{end}}